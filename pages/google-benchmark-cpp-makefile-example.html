<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Using Google ‘Benchmark’ library to micro-benchmark in Makefile project</title>
</head>
<body style="font-family: Tahoma,Geneva,sans-serif; font-size: 14px;">

    <h1 style="text-align: center;"><strong>Using Google ‘Benchmark’ library to micro-benchmark in Makefile project</strong></h1>

<p>In last tutorial we have seen how to install the Google Benchmark library on Linux system. What I didn't mentioned in last article is that it's an "micro-benchmark support library". It means that it is better to use the library to benchmark specific operations/part of code in isolation just like unit-testing.</p>

<p>What the library does is it executes the code (or function) which we want to benchmark, repeatedly very large number of times (iterations are decided on the CPU time taken by operation) and provides us the time it took for completing the operation.
This type of benchmark is very useful for the operations or section of code which is getting executed multiple times and very frequently in your application.</p>

<p>The same applies to the functions provided by different libraries that we include in our application.
For example we use various containers like std::vector, std::list, etc. provided by the standard library. They can be used in different ways. We can use a std::vector without hinting any initial size or we can reserve size for some minimum number of elements.
Bench-marking behavior of their usage styles at such granular level can have major impact on applications overall performance.</p>

<p>If purpose of micro-benchmarks is still not clear there is a nice video about it by Chandler Carruth which you can look at: [CppCon 2015: Chandler Carruth <a href="https://www.youtube.com/watch?v=nXaxk27zwlk" rel="noopener noreferrer" target="_blank">"Tuning C++: Benchmarks, and CPUs, and Compilers! Oh My!"</a>&nbsp;
</p>

<p>In this tutorial we will look at how to use the Google benchmark library using a simple project managed using Makefile. I know there are better build-systems available like CMake, SCons but for simplicity we will use a hand written Makefile.</p>
 
</body>
</html>